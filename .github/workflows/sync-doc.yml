name: Sync Podcast2 Doc 

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *' # å®šæ—¶æ¯ 6 å°æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚è°ƒæ•´

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source repository
        uses: actions/checkout@v2
        with:
          repository: yajuhua/yajuhua.github.io # æ›¿æ¢ä¸ºæºä»“åº“çš„ URL
          ref: main # æ›¿æ¢ä¸ºæºä»“åº“çš„é»˜è®¤åˆ†æ”¯

      - name: Checkout forked repository
        uses: actions/checkout@v2
        with:
          repository: podcast2/podcast2.github.io # æ›¿æ¢ä¸ºä½ çš„ fork ä»“åº“çš„ URL
          token: ${{ secrets.GITHUB_TOKEN }} # ä½¿ç”¨ secrets.GITHUB_TOKEN æˆæƒè®¿é—®

      - name: Sync changes
        run: |
          git config --global user.email "yajuhua@outlook.com"
          git config --global user.name "yajuhua"
          git fetch --prune
          git merge --ff-only
          git commit -m "ğŸ¤– sync yajuhua/yajuhua.github.io" || exit 0
          git push
