name: Sync Podcast2 Doc 

on:
  workflow_dispatch:
  schedule:
    - cron: '0 */6 * * *' # 定时每 6 小时执行一次，可以根据需求调整

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout source repository
        uses: actions/checkout@v2
        with:
          repository: yajuhua/yajuhua.github.io # 替换为源仓库的 URL
          ref: main # 替换为源仓库的默认分支

      - name: Checkout forked repository
        uses: actions/checkout@v2
        with:
          repository: podcast2/podcast2.github.io # 替换为你的 fork 仓库的 URL
          token: ${{ secrets.GITHUB_TOKEN }} # 使用 secrets.GITHUB_TOKEN 授权访问

      - name: Sync changes
        run: |
          git config --global user.email "yajuhua@outlook.com"
          git config --global user.name "yajuhua"
          git fetch --prune
          git merge --ff-only
          git push
